@tailwind base;
@tailwind components;
@tailwind utilities;

@import 'https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,1,0';

/* Base font settings */
html {
  font-family: var(--font-urbanist)!important;
}

/* ===== DARK MODE ENFORCEMENT ===== */
@layer base {
  /* Core dark mode enforcement */
  .dark {
    --tw-bg-opacity: 1;
    background-color: rgb(0 0 0 / var(--tw-bg-opacity)) !important;
  }
  
  /* Force all dark mode elements with backgrounds to be pure black */
  html.dark,
  html.dark body,
  html.dark #__next,
  html.dark [data-theme="dark"] {
    background-color: #000000 !important;
  }
  
  /* Target specific containers that need true black backgrounds */
  html.dark .dark\:bg-black,
  html.dark section.bg-white,
  html.dark .bg-black,
  html.dark div.dark\:bg-black {
    background-color: #000000 !important;
  }
}

/* ===== NAVIGATION BAR ===== */
#topnav {
  background-color: #000000 !important;
}

/* For Dark Mode navigation */
html.dark #topnav,
html.dark .topnav,
html.dark .nav-sticky {
  background-color: #000 !important;
}

/* For Light Mode navigation */
html:not(.dark) #topnav {
  background-color: #fff !important;
}

/* ===== ANIMATIONS & TRANSITIONS ===== */
/* Smooth theme transition */
html, 
body, 
* {
  transition: background-color 0.5s ease-in-out, opacity 0.5s ease-in-out;
}

/* Video fade-in animation */
.fade-in-video {
  opacity: 0;
  animation: fadeIn 1.5s ease-in-out forwards;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* ===== VIDEO VISIBILITY FIXES ===== */
/* Video visibility in dark mode */
.dark-mode-video {
  opacity: 0.7;
  mix-blend-mode: normal;
}

html.dark .dark-mode-video {
  opacity: 0.4;
  mix-blend-mode: lighten;
}

/* Make sure the video iframe is not affected by the global background rules */
html.dark iframe {
  background-color: transparent !important;
  opacity: 0.6 !important;
  mix-blend-mode: lighten !important;
  z-index: 10 !important;
}

/* ===== BUTTON PRESERVATION ===== */
/* Explicitly preserve button styling */
.btn,
a.btn,
button.btn,
.btn.bg-violet-600,
.btn.hover\:bg-violet-700 {
  background-color: var(--tw-bg-opacity, 1) !important;
  border-color: var(--tw-border-opacity, 1) !important;
  color: #ffffff !important; /* âœ… FIXED */
}


/* Restore the specific violet button */
.btn.bg-violet-600 {
  --tw-bg-opacity: 1 !important;
  background-color: rgb(124 58 237 / var(--tw-bg-opacity)) !important;
  border-color: rgb(124 58 237 / var(--tw-border-opacity)) !important;
}

.btn.bg-violet-600:hover,
.btn.hover\:bg-violet-700:hover {
  --tw-bg-opacity: 1 !important;
  background-color: rgb(109 40 217 / var(--tw-bg-opacity)) !important;
  border-color: rgb(109 40 217 / var(--tw-border-opacity)) !important;
}

/* ===== SECTION-SPECIFIC OVERRIDES ===== */
/* Hero section specific rules for dark mode */
html.dark .hero-section {
  background-color: #000000 !important;
}

/* Override for elements that should maintain their own backgrounds, EXCLUDING buttons */
html.dark input,
html.dark img,
html.dark svg,
html.dark [class*="gradient"] {
  background-color: initial !important;
}

/* Ensure gradient backgrounds still work in dark mode */
html.dark [class*="bg-gradient"] {
  background-color: transparent !important;
}

/* Adjust the darkness of the overlay */
html.dark .dark\:block.bg-black {
  opacity: 0.5 !important;
}

/* Ensure iframes are exempt from background color forcing */
html.dark iframe {
  background-color: transparent !important;
  -webkit-mask-image: none !important;
  mask-image: none !important;
}

/* Fine-tune video contrast in dark mode */
html.dark iframe {
  filter: brightness(1.2) contrast(1.1) !important;
}